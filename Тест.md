# План ручного тестирования

## 0. Подготовка
1) Убедиться, что приложение запущено и доступно в браузере.
2) Войти под тестовой учётной записью.
3) Проверить, что есть доступ к Yclients (токены настроены) и загружены тестовые данные.

## 1. Навигация и доступы
1) Открыть главную страницу "/".
2) Перейти по ссылкам в шапке: "/admin", "/historical", "/summary".
3) Убедиться, что страницы открываются и возвращение на "/" работает.
4) Проверить выход из системы и повторный вход.

## 2. Теплокарта (основная)
1) На "/" выбрать филиал и месяц.
2) Убедиться, что теплокарта строится, легенда и палитра работают.
3) Нажать "Обновить" в блоке данных и проверить, что статус и метаданные обновились.
4) Переключить палитру и убедиться, что цвета меняются без перезагрузки.

## 3. Исторические данные
1) Перейти на "/historical".
2) Выбрать филиал и месяц.
3) Убедиться, что сетка строится, палитра работает.

## 4. Сводная теплокарта (новая вкладка)
1) Перейти на "/summary".
2) Проверить структуру: филиал -> ресурсы -> таблица месяцев (строки) x годов (столбцы).
3) Убедиться, что порядок ресурсов совпадает с основными вкладками.
4) Убедиться, что пустые месяцы остаются пустыми.
5) Проверить палитру и легенду (смена палитры перекрашивает ячейки).
6) Визуально проверить, что значения в таблице соответствуют средним за месяц (сверить выборочно с основной теплокартой для пары месяцев/ресурсов).

## 5. Мини‑приложение: добавление товара
1) Открыть "/mini".
2) Выбрать филиал и запись.
3) Найти товар и добавить его в запись.
4) Убедиться, что операция прошла успешно и товар отображается в списке.
5) Проверить, что в Yclients товар появился в визите.

## 6. Мини‑приложение: отмена товара
1) В той же записи нажать "Отменить последнюю".
2) Убедиться, что товар удалён.
3) Проверить, что в Yclients удаление отражено.

## 7. Логи Yclients (новое логирование)
1) После добавления товара проверить файл "data/mini_app_yclients.log".
2) Убедиться, что есть запись с action=add, payload и response.
3) Имитировать ошибку (например, некорректный товар) и проверить, что в логе есть запись со status=error.

## 8. Регрессия: API статусов
1) Проверить /api/heatmap/status для разных месяцев.
2) Убедиться, что возвращаются метаданные и нет ошибок.

## 9. Базовые негативные сценарии
1) Попробовать открыть страницы без авторизации -> должен быть редирект на /login.
2) В мини‑приложении отправить запрос без branch_id/good_id -> ожидается 400.
